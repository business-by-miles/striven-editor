(function(e){function t(t){for(var n,a,l=t[0],s=t[1],c=t[2],d=0,f=[];d<l.length;d++)a=l[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&f.push(r[a][0]),r[a]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(f.length)f.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],n=!0,l=1;l<o.length;l++){var s=o[l];0!==r[s]&&(n=!1)}n&&(i.splice(t--,1),e=a(a.s=o[0]))}return e}var n={},r={app:0},i=[];function a(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=n,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(o,n,function(t){return e[t]}.bind(null,n));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;i.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";var n=o("85ec"),r=o.n(n);r.a},"56d7":function(e,t,o){"use strict";o.r(t);o("cadf"),o("551c"),o("f751"),o("097d");var n=o("2b0e"),r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{"font-family":"Segoe UI",color:"#2c3e50","margin-top":"20vh",display:"flex","justify-content":"center","align-items":"center","flex-direction":"column",padding:"0 1rem"},attrs:{id:"app"}},[o("striven-editor",{ref:"editor",staticStyle:{"min-height":"300px",width:"90%"},attrs:{"toolbar-hide":e.toolbarHide,minimal:e.minimal,"toolbar-bottom":e.toolbarBottom,placeholder:"Type something in here...","on-enter":e.submitOnEnter,"on-paste":e.onPaste,"after-paste":e.afterPaste,change:e.onChange},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)},i=[],a=o("75fc"),l=(o("ac6a"),o("5df3"),o("1c4c"),o("a481"),function(e){var t=e.replace(/([A-Z])/g," $1"),o=t.charAt(0).toUpperCase()+t.slice(1);return o}),s=chai,c=s.assert;function u(){var e=Object(a["a"])(document.getElementsByClassName("striven-editor")).pop();return e.StrivenEditor()}function d(e){var t=document.createElement("div");return t.innerHTML=e,t}mocha.setup("bdd"),describe("Regression Tests",(function(){it("should not return script elements",(function(){var e=u(),t="\n    <p>This is some dangerous content!</p>\n    <script>alert('hello');<\/script>\n  ";e.setContent(t);var o=d(e.getContent()).querySelector("script");c.notExists(o,"script tags were pruned"),e.clearContent()})),it("should create an ordered list with no content",(function(){var e=u();e.toolbar.querySelector("#toolbar-insertOrderedList").click(),c.exists(e.body.querySelector("ol"),"an ordered list was created"),e.clearContent()})),it("should create an unordered list with no content",(function(){var e=u();e.toolbar.querySelector("#toolbar-insertUnorderedList").click(),c.exists(e.body.querySelector("ul"),"an unordered list was created"),e.clearContent()})),it("should apply font style to content",(function(e){var t=u();t.setContent("<p>Change me to Verdana</p>"),setTimeout((function(){t.getRange().selectNode(t.body.querySelector("p")),t.toolbar.querySelector("#toolbar-fontName").click(),t.editor.querySelector('.se-toolbar-popup-option[style="font-family: Verdana;"]').click(),t.body.onfocus(),setTimeout((function(){c.exists(t.body.querySelector('p font[face="Verdana"]'),"selected font style was applied"),t.clearContent(),e()}),0)}),200)})),it("should apply font size to content",(function(e){var t=u();t.setContent("<p>Change me to 36pt size</p>"),setTimeout((function(){t.getRange().selectNode(t.body.querySelector("p")),t.toolbar.querySelector("#toolbar-fontSize").click();var o=Object(a["a"])(t.editor.querySelectorAll(".se-toolbar-popup-option")).filter((function(e){return"36pt"===e.textContent})).pop();o.click(),t.body.onfocus(),setTimeout((function(){c.exists(t.body.querySelector('font[size="7"]'),"selected font size was applied"),t.clearContent(),e()}),0)}),200)})),it("should apply font format to content",(function(e){var t=u();t.setContent("<p>Change me to an H1 format</p>"),setTimeout((function(){t.getRange().selectNode(t.body.querySelector("p")),t.toolbar.querySelector("#toolbar-fontFormat").click();var o=Object(a["a"])(t.editor.querySelectorAll(".se-toolbar-popup-option")).filter((function(e){return"Heading 1"===e.textContent})).pop();o.click(),t.body.onfocus(),setTimeout((function(){c.exists(t.body.querySelector("h1"),"selected font format was applied"),t.clearContent(),e()}),0)}),200)})),it("should apply a scroll bar for large content",(function(){var e=u();e.editor.setAttribute("max-height","300px"),e.body.style.maxHeight="300px";for(var t="",o=0;o<1e3;o++)t+="<p>line ".concat(o,"</p>");e.setContent(t),e.body.blur(),c.notEqual(e.body.scrollHeight,e.body.offsetHeight,"scroll bar was set"),e.clearContent(),e.overflow()})),it("should apply a scroll bar for large content after collapsing fullscreen",(function(){var e=u();e.editor.setAttribute("max-height","300px"),e.body.style.maxHeight="300px",e.toolbar.querySelector("#toolbar-fullscreen").click();for(var t="",o=0;o<1e3;o++)t+="<p>line ".concat(o,"</p>");e.setContent(t),e.toolbar.querySelector("#toolbar-fullscreen").click(),c.notEqual(e.body.scrollHeight,e.body.offsetHeight,"scroll bar was set"),e.clearContent(),e.overflow()})),it("should attach a file",(function(e){var t=u();fetch("https://raw.githubusercontent.com/striven-erp/striven-editor/master/LICENSE.txt").then((function(o){return o.body.getReader().read().then((function(o){t.attachFile(new File([new Blob(o.value)],"LICENSE.txt"));var n=t.getFiles().pop()instanceof File,r="LICENSE.txt"===t.filesSection.querySelector(".se-file .se-file-name").textContent;c.isTrue(n&&r,"file was attached"),t.clearFiles(),e()}))}))})),it("should open/close link menu",(function(e){var t=u(),o=!1;t.openLinkMenu(),c.exists(document.querySelector("#link-menu"),"menu is there"),t.openLinkMenu(),setTimeout((function(){"visible"==window.getComputedStyle(document.getElementById("link-menu")).visibility&&(o=!0,t.closeLinkMenu(),setTimeout((function(){"hidden"==window.getComputedStyle(document.getElementById("link-menu")).visibility&&(c.isTrue(o),e())}),500))}),250)})),it("should apply strikethrough decoration to content",(function(e){var t=u();t.setContent("<p>Strike Me Through</p>"),setTimeout((function(){t.getRange().selectNode(t.body.querySelector("p")),t.body.blur(),t.toolbar.querySelector("#toolbar-strikethrough").click(),t.body.focus(),setTimeout((function(){c.exists(t.body.querySelector("strike"),"strikethrough was applied"),t.clearContent(),e()}),0)}),200)}))})),describe("Internal Tests",(function(){it("should of been created",(function(){c.exists(u().editor,"Editor is created")})),it("should have a body",(function(){c.exists(u().body,"Editor contains a body")})),it("should have a toolbar",(function(){c.exists(u().toolbar,"Editor contains a body")}))})),describe("Unit Tests",(function(){it("should denormalize camel case strings",(function(){c.equal(l("helloWorld"),"Hello World"),c.equal(l("aVariable"),"A Variable"),c.equal(l("aVeryVeryVeryVeryVeryLongVariable"),"A Very Very Very Very Very Long Variable"),c.equal(l("nocase"),"Nocase"),c.equal(l("has_Underscore"),"Has_ Underscore")})),it("should passes bytes and returns a nicely formatted string of the size",(function(){var e=u(),t=1024,o=t*t,n=Math.pow(t,3),r=Math.pow(t,4),i=Math.pow(t,5),a=Math.pow(t,6),l=Math.pow(t,7),s=Math.pow(t,8);c.equal(e.formatBytes(0),"0 Bytes"),c.equal(e.formatBytes(256),"256 Bytes"),c.equal(e.formatBytes(t),"1 KB"),c.equal(e.formatBytes(o),"1 MB"),c.equal(e.formatBytes(n),"1 GB"),c.equal(e.formatBytes(r),"1 TB"),c.equal(e.formatBytes(i),"1 PB"),c.equal(e.formatBytes(a),"1 EB"),c.equal(e.formatBytes(l),"1 ZB"),c.equal(e.formatBytes(s),"1 YB")})),it("should change position to static",(function(){var e=u(),t=d('<div style="position: relative"></div>\n      <div style="position: fixed"></div>\n      <div style="position: sticky"></div>\n      <div style="position: absolute"></div>'),o=e.pruneInlineStyles(t),n=o.querySelectorAll("*[style]"),r=Array.from(n).filter((function(e){return"static"!==e.style.position}));c.isEmpty(r,"inline styles are pruned"),e.clearContent()})),it("should check if the input string is a valid URL",(function(){var e=u();c.isTrue(e.validURL("https://www.google.com"),"The string is a valid link"),c.isFalse(e.validURL("invalid.string"),"The string is an invalid link")}))})),mocha.run();var f=o("062b"),p={name:"app",components:{StrivenEditor:f["VueStrivenEditor"]},data:function(){var e=this;return{minimal:!1,uploadOnPaste:!1,toolbarBottom:!1,toolbarHide:!1,sanitizePaste:!0,onInvalidFile:function(){alert("invalid file")},placeholder:"Begin typing in this editor...",submitOnEnter:function(t){if(t.ctrlKey){var o=e.editor.getContent(),n=e.editor.getFiles();(o||n.length)&&(console.log({content:o,files:n}),e.editor.clearContent(),e.editor.clearFiles())}},content:"",editor:null}},mounted:function(){this.editor=this.$refs.editor.editor},methods:{onChange:function(){var e=this;this.editor.body.style.backgroundColor="green",setTimeout((function(){return e.editor.body.style.backgroundColor=null}),200)},afterPaste:function(){var e=this;setTimeout((function(){Object(a["a"])(e.editor.body.querySelectorAll(".striven-mention")).forEach((function(e){return e.outerHTML=e.textContent}))}),0)},onPaste:function(e){console.log(e)},sendContent:function(){console.log(this.editor.getContent()),this.editor.clearContent()},safariOut:function(){this.editor.setContent("".concat(this.editor.browser.isSafari()))},chromeOut:function(){this.editor.setContent("".concat(this.editor.browser.isChrome()))},insertList:function(){document.execCommand("insertUnorderedList")}}},y=p,h=(o("034f"),o("2877")),b=Object(h["a"])(y,r,i,!1,null,null,null),m=b.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(m)}}).$mount("#app")},"85ec":function(e,t,o){}});
//# sourceMappingURL=app.c80629be.js.map